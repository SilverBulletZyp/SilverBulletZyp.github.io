<!-- ---layout: posttitle: Git学习汇总category: Resourcetags: [Resource]--- -->> git资源与使用## 简介使用最广泛的分布式版本控制系统。* [git简介](http://baike.baidu.com/subview/1531489/12032478.htm#viewPageContent)* [git入门](http://www.open-open.com/lib/view/open1405048177091.html)* [git下载](http://git-scm.com/download/)* [git教程](http://git-scm.com/book/zh/v2)## 常用命令### 1.快速查阅(base)* 原理![原理](http://silverbulletzyp.github.io/img/2016-08-25/gitPrinciple.jpeg)* 基础![常用命令](http://silverbulletzyp.github.io/img/2016-08-25/gitSpeed.jpeg)### 2.默认设置| 命令 | 描述  || :-- | :-- ||git config --global user.name [name]|配置全局用户名||git config --local user.email [email]|配置局部电子邮箱||git config --list|显示所有配置信息||git help|显示帮助|### 3.常用操作* 基本操作<table>		<tr>				<th width="60%" colspan="2">命令</th>				<th width="40%">描述</th>		</tr>		<tr>				<td rowspan="2">init</td>				<td>git init</td>				<td>本地初始化git仓库</td>		</tr>		<tr>				<td>git clone xxx</td>				<td>从远程服务器克隆仓库到本地</td>		</tr>		<tr>				<td rowspan="3">add</td>				<td>git add xxx</td>				<td>添加工作目录的文件到暂存区</td>		</tr>		<tr>				<td>git add -A</td>				<td rowspan="2">添加工作目录的所有文件到暂存区</td>		</tr>		<tr>				<td>git add .</td>		</tr>		<tr>				<td rowspan="5">commit</td>				<td>git commit -m "xxx"</td>				<td>提交暂存区的文件，带有提交消息</td>		</tr>		<tr>				<td>git commit --author=name -m "xxx"</td>				<td>提交暂存区的文件，并重写提交作者</td>		</tr>		<tr>				<td>git commit --date=06.20.2016T09:00:00 -m "xxx"</td>				<td>提交暂存区的文件，并重写提交日期</td>		</tr>		<tr>				<td>git commit --amend -m "xxx"</td>				<td>通过创建一个新的提交，以替换当前分支的前端</td>		</tr>		<tr>				<td>git commit -a -m "xxx"</td>				<td>跳过暂存区，直接提交工作目录中所有改变的文件(不包括目录中新增的文件)</td>		</tr></table>* status命令 - 显示工作树的状态```git status```|类型|解释||Untracked files|未被跟踪的文件，表示是工作目录新增加的文件||Changes not staged for commit|工作目录中修改了文件，但是没有被添加到暂存区||Changes to be committed|添加到暂存区的文件，等待提交|* 注释commit - 5⑤ 所代表的含义就是在最新一次提交的基础上进行提交。比如我们完成了最新一次提交，并且这次提交完成后我们对工作目录进行了一些修改，但是我们发现某个文件忘了添加到暂存区并提交，我们可以先添加该文件到暂存区，然后利用该命令进行提交。* reset命令```git resetgit reset <commit> filesgit reset [--hard|soft|mixed|merge|keep] [<commit>]：```① 将暂存区的所有文件重置到当前分支的HEAD② 将暂存区的指定文件重置到指定的<commit>,<commit>既可以是commit的hash（或者hash前7位）也可以是HEAD及其祖先，HEAD~1表示HEAD的父亲，是HEAD的前一次提交，没有<commit>时默认是HEAD。③ 将当前的分支重设到指定的<commit>，并且根据mode有可能更新暂存区和工作目录。mode的取值可以是hard、soft、mixed、merged、keep。	hard：重置暂存区与工作目录到指定提交，删除<commit>之后的所有提交并将HEAD指向该提交，此操作危险指数较大（应慎用）	soft：暂存区与工作目录不会变化，仅仅删除<commit>之后的所有提交并将HEAD指向该提交	mixed：默认的，重置暂存区到指定提交，删除<commit>之后的所有提交并将HEAD指向该提交	merge与keep用的比较少，暂时不讨论注：HEAD是指向当前分支引用的指针，该指针指向在该分支上的最后一个提交的指针。这意味着HEAD将是下一个创建的提交的父亲。一般来说，把你的HEAD作为你最后一次提交的快照，是最简单的。HEAD~1表示HEAD的前一次提交，HEAD~2表示HEAD的前两次提交，以此类推* rm命令```git rm files			// 删除工作目录的文件git rm -f files			// 强制删除工作目录的文件，不做更新检查git rm --cached files	// 删除暂存区的文件```* mv命令```git mv oldfile newfile		// 为文件重命名git mv files dir			// 移动文件到指定目录git mv -f oldfile newfile	// 强制为文件重命名，即使目标文件已存在git mv -f files dir			// 强制移动文件到指定目录名，即使目标文件已存在```### 4.分支检出与合并* branch命令| 命令 | 描述  || :-- | :-- ||git branch|查看所有分支||git branch xxx|创建分支||git branch xxx <commit>|以特定提交为基创建分支||git checkout -b [name]|显示帮助|```							//					//				// 创建新分支并立即切换到新分支git branch -d branchname						// 删除分支git branch -D branchname						// 强制删除分支git branch -m [oldbranchname] newbranchname	// 移动或者删除分支git branch -M [oldbranchname] newbranchname	// 强制移动或者删除分支git branch -r									// 列出所有被跟踪的远程分支git branch -r -d branchname						// 删除被跟踪的远程分支git branch -a									// 列出所有本地分支与被跟踪的远程分支```* checkout命令```git checkout						// 检查本地仓库分支与远程仓库分支的差异git checkout . 						// 未提交的本地所有修改返回原状态git checkout branchname|tagname		// 切换分支或切换到指定tag，同名时优先切换分支git checkout tags/tagname			// 切换到指定taggit checkout -b branchname			// 新建分支并切换到该分支上git checkout -B branchname			// 强制新建分支并切换到该分支上```* 合并分支```git merge [name]     // 将名称为[name]的分支与当前分支合并```* 创建空的分支```// 需先提交当前分支的修改，否则会被强制删除git symbolic-ref HEAD refs/heads/[name]$rm .git/index$git clean -fdx```### 5.远程仓库(remote)* remote命令 - 查看远程仓库```git remote									// 查看所有与本地仓库关联的远程仓库git remote -v								// 查看所有远程仓库地址git remote add [name] [url]					// 添加与本地仓库关联的远程仓库git remote rename oldname newname			// 为远程仓库重命名git remote remove [name]					// 移除远程仓库git remote set-url --push [name] [newUrl]	// 修改远程仓库```* 拉取远程仓库```// 拉取指定远程仓库指定分支到本地仓库指定分支（默认是当前分支）git pull [remoteName] [localBranchName]```* 推送远程仓库```git push origin master			// 推送本地仓库主分支到远程仓库主分支git push origin test:master		// 提交本地test分支作为远程的master分支git push origin test:test		// 提交本地test分支作为远程的test分支```### 6.版本(tag)* tag```git tag 			  // 查看版本git tag [name]  // 创建版本git tag -d [name]  // 删除版本git tag -r  // 查看远程版本git push origin [name]  // 创建远程版本git push origin :refs/tags/[name]   // 删除远程版本git pull origin --tags  // 合并远程仓库的tag到本地git push origin --tags  // 上传本地tag到远程仓库git tag -a [name] -m 'yourMessage'  // 创建带注释的tag```### 7.子模块(submodule)* 子模块初始操作```git submodule add [url] [path]  // 添加子模块// 例如:git submodule add git://github.com/soberh/ui-libs.git src/main/webapp/ui-libsgit submodule init     // 初始化子模块，只在首次检出仓库时运行一次就行```* 更新子模块```git submodule update     // 每次更新或切换分支后都需要运行一下```* 删除子模块```git rm --cached [path]     // 1.移除缓存路径// 2.编辑“.gitmodules”文件，将子模块的相关配置节点删除掉// 3.编辑“ .git/config”文件，将子模块的相关配置节点删除掉// 4.手动删除子模块残留的目录```### 8.忽略(gitignore)在仓库根目录下创建名称为“.gitignore”的文件，写入不需要的文件夹名或文件，每个元素占一行即可```targetbin*.db```### 9.自定义(Custom)* 日志自定义`git log`的显示样式```git log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit```或直接自定义别名`git lg````git config --global alias.lg "log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset'"```下次输出日志时直接输入`git lg`即可## 应用举例```git branch 查看本地所有分支git status 查看当前状态git commit 提交git branch -a 查看所有的分支git branch -r 查看本地所有分支git commit -am "init" 提交并且加注释git remote add origin git@192.168.1.119:ndshowgit push origin master 将文件给推到服务器上git remote show origin 显示远程库origin里的资源git push origin master:developgit push origin master:hb-dev 将本地库与服务器上的库进行关联git checkout --track origin/dev 切换到远程dev分支git branch -D master develop 删除本地库developgit checkout -b dev 建立一个新的本地分支devgit merge origin/dev 将分支dev与当前分支进行合并git checkout dev 切换到本地dev分支git remote show 查看远程库git add .git rm 文件名(包括路径) 从git中删除指定文件git clone git://github.com/schacon/grit.git 从服务器上将代码给拉下来git config --list 看所有用户git ls-files 看已经被提交的git rm [file name] 删除一个文件git commit -a 提交当前repos的所有的改变git add [file name] 添加一个文件到git indexgit commit -v 当你用－v参数的时候可以看commit的差异git commit -m "This is the message describing the commit" 添加commit信息git commit -a -a是代表add，把所有的change加到git index里然后再commitgit commit -a -v 一般提交命令git log 看你commit的日志git diff 查看尚未暂存的更新git rm a.a 移除文件(从暂存区和工作区中删除)git rm --cached a.a 移除文件(只从暂存区中删除)git commit -m "remove" 移除文件(从Git中删除)git rm -f a.a 强行移除修改后文件(从暂存区和工作区中删除)git diff --cached 或 $ git diff --staged 查看尚未提交的更新git stash push 将文件给push到一个临时空间中git stash pop 将文件从临时空间pop下来``````git remote add origin git@github.com:username/Hello-World.gitgit push origin master 将本地项目给提交到服务器中``````git pull 本地与服务器端同步``````git push (远程仓库名) (分支名) 将本地分支推送到服务器上去。git push origin serverfix:awesomebranch``````git fetch 相当于是从远程获取最新版本到本地，不会自动mergegit commit -a -m "log_message" (-a是提交所有改动，-m是加入log信息) 本地修改同步至服务器端``````git branch branch_0.1 master 从主分支master创建branch_0.1分支git branch -m branch_0.1 branch_1.0 将branch_0.1重命名为branch_1.0git checkout branch_1.0/master 切换到branch_1.0/master分支du -hs```## 命令图表![常用命令](http://silverbulletzyp.github.io/img/2016-08-25/gitStudyImg.png)## 其他资源[git命令查询](http://www.yiibai.com/git/home.html)